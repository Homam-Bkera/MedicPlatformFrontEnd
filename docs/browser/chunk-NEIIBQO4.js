import{a as Y}from"./chunk-IYUU4MXV.js";import{a as U,b as E,c as b,d as G,e as B,g as C,h as H,i as $,k as q,l as J,s as K,t as Q,u as X}from"./chunk-KQP7773U.js";import{$ as F,D as _,F as g,H as n,I as t,J as u,L as O,O as k,Q as o,R as h,U as T,V as z,W as V,Y as v,ba as y,ha as W,i as M,ja as A,ma as w,na as j,q as I,u as N,ua as D,xa as L,y as p,ya as x,z as P,za as R}from"./chunk-GP3ZQSRD.js";var Z="https://medicplatformbackend.onrender.com",S=(()=>{let i=class i{constructor(l){this.http=l}getProfile(l){return this.http.get(`${Z}/user/profile`,{headers:{Authorization:l}})}updateProfile(l,a){return this.http.put(`${Z}/user`,l,{headers:{Authorization:a}})}};i.\u0275fac=function(a){return new(a||i)(N(j))},i.\u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"});let r=i;return r})();var _e=(()=>{let i=class i{constructor(l,a,e,d){this.ProfileService=l,this.TokenStorage=a,this.authService=e,this.wallet=d,this.role="",this.charge=0}ngOnInit(){this.getProfile(),this.getRole()}getProfile(){this.ProfileService.getProfile(this.TokenStorage.getToken()).subscribe(l=>{this.profile=l})}getRole(){this.role=this.authService.getRole()}chargerWallet(){let l={cash:this.charge};this.wallet.setWallet(l).subscribe(a=>{console.log(a)})}};i.\u0275fac=function(a){return new(a||i)(P(S),P(x),P(R),P(Y))},i.\u0275cmp=M({type:i,selectors:[["app-profile"]],standalone:!0,features:[v],decls:53,vars:15,consts:[[1,"profile"],[1,"title-page"],[1,"container-profile"],[1,"info-section"],[1,"title-section"],[1,"info"],[1,"name"],[1,"phone"],[1,"role"],[1,"created-account"],[1,"upadated-account"],[1,"link",3,"routerLink"],[1,"cash-section"],[1,"cash"],[1,"current-cash"],[1,"last-charge"],[1,"input-control"],[1,"control"],["name","wallet","placeholder","charge wallet",3,"ngModel","ngModelChange"],[3,"click"]],template:function(a,e){a&1&&(n(0,"div",0)(1,"p",1)(2,"span"),o(3,"P"),t(),o(4,"rofile"),t(),n(5,"div",2)(6,"div",3)(7,"h2",4),o(8," Information"),t(),n(9,"div",5)(10,"p",6),o(11,"Name : "),n(12,"span"),o(13),t()(),n(14,"p",7),o(15,"Phone : "),n(16,"span"),o(17),t()(),n(18,"p",8),o(19,"Role : "),n(20,"span"),o(21),t()(),n(22,"p",9),o(23,"Create At : "),n(24,"span"),o(25),F(26,"date"),t()(),n(27,"p",10),o(28,"Last Update : "),n(29,"span"),o(30),F(31,"date"),t()(),n(32,"a",11),o(33," Edit Profile"),t()()(),n(34,"div",12)(35,"h2",4),o(36,"Cash"),t(),n(37,"div",13)(38,"p",14),o(39,"Current Cash :"),n(40,"span"),o(41),t()(),n(42,"p",15),o(43,"Last Charge :"),n(44,"span"),o(45),t()(),n(46,"div",16)(47,"span"),o(48,"Charge Wallet :"),t(),n(49,"div",17)(50,"input",18),V("ngModelChange",function(c){return z(e.charge,c)||(e.charge=c),c}),t(),n(51,"button",19),O("click",function(){return e.chargerWallet()}),o(52,"Charge Wallet"),t()()()()()()()),a&2&&(p(13),h(e.profile==null||e.profile.data==null?null:e.profile.data.name),p(4),h(e.profile==null||e.profile.data==null?null:e.profile.data.phone),p(4),h(e.profile==null||e.profile.data==null?null:e.profile.data.role),p(4),h(y(26,9,e.profile==null||e.profile.data==null?null:e.profile.data.createdAt,"short")),p(5),h(y(31,12,e.profile==null||e.profile.data==null?null:e.profile.data.updatedAt,"short")),p(2),k("routerLink","/",e.role,"/editProfile"),p(9),h(e.profile==null||e.profile.data==null||e.profile.data.Wallet==null?null:e.profile.data.Wallet.cash),p(4),h(e.profile==null||e.profile.data==null||e.profile.data.Wallet==null?null:e.profile.data.Wallet.createdAt),p(5),T("ngModel",e.charge))},dependencies:[w,A,L,D,K,U,b,H],styles:[".profile[_ngcontent-%COMP%]{width:100%}.profile[_ngcontent-%COMP%]   .title-page[_ngcontent-%COMP%]{font-weight:900;font-size:2rem;margin:25px auto}.profile[_ngcontent-%COMP%]   .title-page[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--main-color);font-size:2.5rem}.profile[_ngcontent-%COMP%]   .container-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:0 20px 50px}.profile[_ngcontent-%COMP%]   .container-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{border-bottom:2px solid black}.profile[_ngcontent-%COMP%]   .container-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:10px}.profile[_ngcontent-%COMP%]   .container-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding:10px 0;font-size:1.2rem;font-weight:500;color:#363636}.profile[_ngcontent-%COMP%]   .container-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-weight:100;color:#363636}.profile[_ngcontent-%COMP%]   .container-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:none;display:inline-block;margin-top:10px;padding:10px 20px;font-size:1.2rem;font-weight:500;border-radius:7px;color:#fff;cursor:pointer;border:1px solid var(--main-color);background-color:var(--main-color);box-shadow:#32325d40 0 13px 27px -5px,#0000004d 0 8px 16px -8px;transition:.3s ease-in-out}.profile[_ngcontent-%COMP%]   .container-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:var(--main-color);background-color:#fff}.profile[_ngcontent-%COMP%]   .container-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;margin-top:15px;position:relative}.profile[_ngcontent-%COMP%]   .container-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;margin-bottom:5px;font-size:1rem}.profile[_ngcontent-%COMP%]   .container-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.profile[_ngcontent-%COMP%]   .container-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:7px;border:1px solid rgb(204,202,202);height:2.2rem;transition:.3s ease-in-out;font-size:1rem;padding:0 5px;width:70%}.profile[_ngcontent-%COMP%]   .container-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{background-color:#a16d2902;outline:1px solid var(--main-color)}.profile[_ngcontent-%COMP%]   .container-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background-color:#a16d2902;outline:1px solid var(--main-color)}.profile[_ngcontent-%COMP%]   .container-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:28%;padding:10px 30px;border-radius:7px;color:#fff;background-color:var(--main-color);font-weight:700;transition:.3s;cursor:pointer;border:1px solid var(--main-color)}.profile[_ngcontent-%COMP%]   .container-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--main-color);background-color:#fff;border:1px solid var(--main-color)}"]});let r=i;return r})();function re(r,i){r&1&&(n(0,"p",20),o(1," Username does not match in the previous two fields"),t())}function le(r,i){r&1&&(n(0,"p",20),o(1,"Phone does not match in the previous two fields"),t())}function ae(r,i){r&1&&(n(0,"p",21),o(1,"The phone number must be 10 digits "),n(2,"strong"),o(3,"ex: 0912345678"),t()())}function pe(r,i){r&1&&(n(0,"p",20),o(1,"Password does not match in the previous two fields"),t())}function de(r,i){r&1&&(n(0,"p",21),o(1,"The password must be at least 5 characters long"),t())}function ce(r,i){r&1&&(n(0,"p",21),o(1,"Failed Update Information, Try Again"),t())}function me(r,i){r&1&&u(0,"app-spinner",22)}var xe=(()=>{let i=class i{constructor(l,a){this.profile=l,this.token=a,this.visibleSpinner=!1,this.failedUpdate=!1,this.UpdateInfo={}}ngOnInit(){this.initForm()}initForm(){this.FormUpdate=new B({newUserName:new C("",[]),confrimUserName:new C("",[]),newPhone:new C("",[E.pattern("^[0-9]{10}$")]),confrimPhone:new C("",[]),newPassword:new C("",[E.minLength(5)]),confrimPassword:new C("",[])})}onSubmitForm(){this.bindingValueForm(),this.visibleSpinner=!0,(this.UpdateInfo.name!=null||this.UpdateInfo.phone!=null||this.UpdateInfo.password!=null)&&this.profile.updateProfile(this.UpdateInfo,this.token.getToken()).subscribe(l=>{this.visibleSpinner=!1,this.resetFormValue()},l=>{this.visibleSpinner=!1,this.failedUpdate=!0})}bindingValueForm(){this.UpdateInfo={},this.userNameMatchValidator()&&(this.UpdateInfo.name=this.FormUpdate.get("newUserName")?.value),this.phoneMatchValidator()&&(this.UpdateInfo.phone=this.FormUpdate.get("newPhone")?.value),this.passwordfMatchValidator()&&(this.UpdateInfo.password=this.FormUpdate.get("newPassword")?.value)}userNameMatchValidator(){return this.FormUpdate.get("newUserName")?.value==this.FormUpdate.get("confrimUserName")?.value&&this.FormUpdate.get("newUserName")?.value!=""}phoneMatchValidator(){return this.FormUpdate.get("newPhone")?.value==this.FormUpdate.get("confrimPhone")?.value&&this.FormUpdate.get("newPhone")?.value!=""}passwordfMatchValidator(){return this.FormUpdate.get("newPassword")?.value==this.FormUpdate.get("confrimPassword")?.value&&this.FormUpdate.get("newPassword")?.value!=""}resetFormValue(){this.FormUpdate.reset()}};i.\u0275fac=function(a){return new(a||i)(P(S),P(x))},i.\u0275cmp=M({type:i,selectors:[["app-edit-profile"]],standalone:!0,features:[v],decls:59,vars:8,consts:[[1,"component-edit-profile"],[1,"content-edit-profile"],[1,"col-photo"],[1,"fa","fa-user-circle"],[1,"col-edit-account"],[3,"formGroup","ngSubmit"],[1,"form","form-edit-name"],[1,"controls"],[1,"input-control"],["type","text","placeholder","New User Name","formControlName","newUserName"],["type","text","placeholder","Confirm User Name","formControlName","confrimUserName"],["class","message-wrong",4,"ngIf"],[1,"form","form-edit-phone"],["type","text","placeholder","New Phone","formControlName","newPhone"],["type","text","placeholder","Confirm Phone","formControlName","confrimPhone"],["class","message-error",4,"ngIf"],[1,"form","form-edit-password"],["type","text","placeholder","New Password","formControlName","newPassword"],["type","text","placeholder","Confirm Password","formControlName","confrimPassword"],["id","spinner",4,"ngIf"],[1,"message-wrong"],[1,"message-error"],["id","spinner"]],template:function(a,e){if(a&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),u(3,"i",3),t(),n(4,"div",4)(5,"h1"),o(6,"Accounting Setting"),t(),n(7,"form",5),O("ngSubmit",function(){return e.onSubmitForm()}),n(8,"div",6)(9,"h2"),o(10,"- Edit User Name"),t(),n(11,"p"),o(12,"If you want to change your user name on the platform, you can enter the new user name"),t(),n(13,"div",7)(14,"div",8)(15,"span"),o(16,"New User Name :"),t(),u(17,"input",9),t(),n(18,"div",8)(19,"span"),o(20,"Confirm User Name :"),t(),u(21,"input",10),t(),_(22,re,2,0,"p",11),t()(),n(23,"div",12)(24,"h2"),o(25,"- Edit Phone"),t(),n(26,"p"),o(27,"If you want to change your phone on the platform, you can enter the new phone"),t(),n(28,"div",7)(29,"div",8)(30,"span"),o(31,"New Phone :"),t(),u(32,"input",13),t(),n(33,"div",8)(34,"span"),o(35,"Confirm Phone :"),t(),u(36,"input",14),t(),_(37,le,2,0,"p",11)(38,ae,4,0,"p",15),t()(),n(39,"div",16)(40,"h2"),o(41,"- Edit Password"),t(),n(42,"p"),o(43,"If you want to change your password on the platform, you can enter the new password"),t(),n(44,"div",7)(45,"div",8)(46,"span"),o(47,"New Password :"),t(),u(48,"input",17),t(),n(49,"div",8)(50,"span"),o(51,"Confirm Password :"),t(),u(52,"input",18),t(),_(53,pe,2,0,"p",11)(54,de,2,0,"p",15),t()(),_(55,ce,2,0,"p",15),n(56,"button"),o(57,"Apply change"),t()()()(),_(58,me,1,0,"app-spinner",19),t()),a&2){let d,c,s,m,f;p(7),g("formGroup",e.FormUpdate),p(15),g("ngIf",((d=e.FormUpdate.get("newUserName"))==null?null:d.dirty)&&((d=e.FormUpdate.get("confrimUserName"))==null?null:d.dirty)&&((d=e.FormUpdate.get("newUserName"))==null?null:d.touched)&&((d=e.FormUpdate.get("confrimUserName"))==null?null:d.touched)&&((d=e.FormUpdate.get("newUserName"))==null?null:d.value)!=((d=e.FormUpdate.get("confrimUserName"))==null?null:d.value)),p(15),g("ngIf",((c=e.FormUpdate.get("newPhone"))==null?null:c.dirty)&&((c=e.FormUpdate.get("confrimPhone"))==null?null:c.dirty)&&((c=e.FormUpdate.get("newPhone"))==null?null:c.touched)&&((c=e.FormUpdate.get("confrimPhone"))==null?null:c.touched)&&((c=e.FormUpdate.get("newPhone"))==null?null:c.value)!=((c=e.FormUpdate.get("confrimPhone"))==null?null:c.value)),p(),g("ngIf",((s=e.FormUpdate.get("newPhone"))==null?null:s.dirty)&&((s=e.FormUpdate.get("confrimPhone"))==null?null:s.dirty)&&((s=e.FormUpdate.get("newPhone"))==null?null:s.touched)&&((s=e.FormUpdate.get("confrimPhone"))==null?null:s.touched)&&((s=e.FormUpdate.get("newPhone"))==null?null:s.invalid)),p(15),g("ngIf",((m=e.FormUpdate.get("newPassword"))==null?null:m.dirty)&&((m=e.FormUpdate.get("confrimPassword"))==null?null:m.dirty)&&((m=e.FormUpdate.get("newPassword"))==null?null:m.touched)&&((m=e.FormUpdate.get("confrimPassword"))==null?null:m.touched)&&((m=e.FormUpdate.get("newPassword"))==null?null:m.value)!=((m=e.FormUpdate.get("confrimPassword"))==null?null:m.value)),p(),g("ngIf",((f=e.FormUpdate.get("newPassword"))==null?null:f.dirty)&&((f=e.FormUpdate.get("confrimPassword"))==null?null:f.dirty)&&((f=e.FormUpdate.get("newPassword"))==null?null:f.touched)&&((f=e.FormUpdate.get("confrimPassword"))==null?null:f.touched)&&((f=e.FormUpdate.get("newPassword"))==null?null:f.invalid)),p(),g("ngIf",e.failedUpdate),p(3),g("ngIf",e.visibleSpinner)}},dependencies:[Q,$,U,b,G,q,J,w,W,X],styles:[".component-edit-profile[_ngcontent-%COMP%]{position:relative;z-index:1}.component-edit-profile[_ngcontent-%COMP%]   .content-edit-profile[_ngcontent-%COMP%]{display:grid;grid-template-columns:30% 68%;gap:2%;margin-top:30px}.component-edit-profile[_ngcontent-%COMP%]   .content-edit-profile[_ngcontent-%COMP%]   .col-photo[_ngcontent-%COMP%]{text-align:center}.component-edit-profile[_ngcontent-%COMP%]   .content-edit-profile[_ngcontent-%COMP%]   .col-photo[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:1200%;border:5px solid var(--main-color);border-radius:50%;padding:2px}.component-edit-profile[_ngcontent-%COMP%]   .content-edit-profile[_ngcontent-%COMP%]   .col-edit-account[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{height:13rem;align-content:center}.component-edit-profile[_ngcontent-%COMP%]   .content-edit-profile[_ngcontent-%COMP%]   .col-edit-account[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{margin-bottom:40px}.component-edit-profile[_ngcontent-%COMP%]   .content-edit-profile[_ngcontent-%COMP%]   .col-edit-account[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--main-color);padding-bottom:5px;border-bottom:1px solid rgba(0,0,0,.452)}.component-edit-profile[_ngcontent-%COMP%]   .content-edit-profile[_ngcontent-%COMP%]   .col-edit-account[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#414141;margin:10px auto}.component-edit-profile[_ngcontent-%COMP%]   .content-edit-profile[_ngcontent-%COMP%]   .col-edit-account[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{padding:0 10px}.component-edit-profile[_ngcontent-%COMP%]   .content-edit-profile[_ngcontent-%COMP%]   .col-edit-account[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;background-color:var(--main-color);border:1px solid var(--main-color);color:#fff;padding:10px 20px;font-size:1.1rem;font-weight:600;border-radius:8px;margin:20px auto;transition:.3s ease-in-out}.component-edit-profile[_ngcontent-%COMP%]   .content-edit-profile[_ngcontent-%COMP%]   .col-edit-account[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#fff;color:var(--main-color)}.component-edit-profile[_ngcontent-%COMP%]   .content-edit-profile[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;margin-top:15px}.component-edit-profile[_ngcontent-%COMP%]   .content-edit-profile[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;margin-bottom:5px;font-size:1.1rem}.component-edit-profile[_ngcontent-%COMP%]   .content-edit-profile[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:7px;border:1px solid rgb(204,202,202);height:2.2rem;transition:.3s ease-in-out;font-size:1rem;padding:0 5px}.component-edit-profile[_ngcontent-%COMP%]   .content-edit-profile[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{background-color:#a16d2902;outline:1px solid var(--main-color)}.component-edit-profile[_ngcontent-%COMP%]   .content-edit-profile[_ngcontent-%COMP%]   .input-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background-color:#a16d2902;outline:1px solid var(--main-color)}.component-edit-profile[_ngcontent-%COMP%]   .message-error[_ngcontent-%COMP%]{background-color:#f62a0675;padding:10px;margin:5px;border-radius:8px}.component-edit-profile[_ngcontent-%COMP%]   .message-wrong[_ngcontent-%COMP%]{background-color:#f67a064a;padding:10px;margin:5px;border-radius:8px}.component-edit-profile[_ngcontent-%COMP%]   #spinner[_ngcontent-%COMP%]{position:absolute;top:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;z-index:11;background-color:#ffffff91}@media (max-width: 900px){.component-edit-profile[_ngcontent-%COMP%]   .content-edit-profile[_ngcontent-%COMP%]{display:flex;flex-direction:column}}"]});let r=i;return r})();export{_e as a,xe as b};
